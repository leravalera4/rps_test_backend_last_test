# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ–º SOL –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

## –ü—Ä–æ–±–ª–µ–º–∞
–ù–∞ localhost —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ, –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚ùå

## –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### 1. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –¥–µ–ø–ª–æ—è

**Render.com:**
- Settings ‚Üí Environment ‚Üí Environment Variables

**Railway:**
- Variables ‚Üí Environment Variables

**Heroku:**
- Settings ‚Üí Config Vars ‚Üí Reveal Config Vars

**–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:**
```
SERVICE_WALLET_PRIVATE_KEY=[104,65,209,240,172,87,176,66,92,246,217,197,32,80,171,22,194,14,98,167,65,191,164,227,199,171,249,131,228,240,169,200,220,106,238,180,186,100,3,15,242,32,93,121,166,167,211,157,246,110,84,107,136,126,72,93,160,1,215,169,56,129,175,158]

SOLANA_RPC_URL=https://api.devnet.solana.com
```

### 2. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞

**–ò—â–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:**
```
üîë Service wallet loaded from environment variable
Auto-finalization service initialized
Service wallet: FqRGNozJNRqWUCZftbr3CeFRHKyVTx43ArGRf8QBnfoK
Service wallet balance: X.XXX SOL
üîó Solana RPC URL: https://api.devnet.solana.com
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ:**
- `üîë Generating new service wallet...` ‚Üí ‚ùå SERVICE_WALLET_PRIVATE_KEY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- `Service wallet balance: 0.000 SOL` ‚Üí ‚ùå –ö–æ—à–µ–ª–µ–∫ –Ω–µ –ø–æ–ø–æ–ª–Ω–µ–Ω
- `Failed to initialize auto-finalization service` ‚Üí ‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

### 3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∏–≥—Ä—ã

**–ò—â–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:**
```
üöÄ ===== STARTING AUTO-FINALIZATION =====
üìã Game ID: <gameId>
üèÜ Winner: <winner>
üí∞ Service wallet balance: X.XXX SOL
üì§ Sending finalization transaction...
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏:**
- `‚ùå Service wallet not initialized` ‚Üí SERVICE_WALLET_PRIVATE_KEY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- `‚ùå Service wallet has insufficient balance` ‚Üí –ö–æ—à–µ–ª–µ–∫ –Ω–µ –ø–æ–ø–æ–ª–Ω–µ–Ω
- `‚ùå Transaction failed:` ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏ –Ω–∏–∂–µ

### 4. ‚úÖ –ü–æ–ø–æ–ª–Ω–∏—Ç–µ Service Wallet

**–ê–¥—Ä–µ—Å:** `FqRGNozJNRqWUCZftbr3CeFRHKyVTx43ArGRf8QBnfoK`

**–í–∞–∂–Ω–æ:** –≠—Ç–æ devnet –∫–æ—à–µ–ª–µ–∫! –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ —á–µ—Ä–µ–∑:
- https://faucet.solana.com
- –ú–∏–Ω–∏–º—É–º: 0.1 SOL (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 1-2 SOL)

### 5. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç SERVICE_WALLET_PRIVATE_KEY

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:**
```
[104,65,209,240,172,87,176,66,92,246,217,197,32,80,171,22,194,14,98,167,65,191,164,227,199,171,249,131,228,240,169,200,220,106,238,180,186,100,3,15,242,32,93,121,166,167,211,157,246,110,84,107,136,126,72,93,160,1,215,169,56,129,175,158]
```

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- –° –∫–∞–≤—ã—á–∫–∞–º–∏: `"[104,65,...]"`
- –° –ø—Ä–æ–±–µ–ª–∞–º–∏: `[ 104, 65, ...]`
- –ù–µ –º–∞—Å—Å–∏–≤: `"104,65,209,..."`

### 6. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä!

## –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

### –û—à–∏–±–∫–∞ 1: "Service wallet not initialized"
**–ü—Ä–∏—á–∏–Ω–∞:** SERVICE_WALLET_PRIVATE_KEY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å JSON –º–∞—Å—Å–∏–≤)
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

### –û—à–∏–±–∫–∞ 2: "insufficient balance"
**–ü—Ä–∏—á–∏–Ω–∞:** Service wallet –Ω–µ –ø–æ–ø–æ–ª–Ω–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://faucet.solana.com
2. –í—Å—Ç–∞–≤—å—Ç–µ –∞–¥—Ä–µ—Å: `FqRGNozJNRqWUCZftbr3CeFRHKyVTx43ArGRf8QBnfoK`
3. –ó–∞–ø—Ä–æ—Å–∏—Ç–µ SOL
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –≤ –ª–æ–≥–∞—Ö

### –û—à–∏–±–∫–∞ 3: "RPC connection issue"
**–ü—Ä–∏—á–∏–Ω–∞:** SOLANA_RPC_URL –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `SOLANA_RPC_URL=https://api.devnet.solana.com`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

### –û—à–∏–±–∫–∞ 4: –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è, –Ω–æ –æ—à–∏–±–æ–∫ –Ω–µ—Ç
**–ü—Ä–∏—á–∏–Ω–∞:** Service wallet –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –∏–ª–∏ –±–∞–ª–∞–Ω—Å = 0

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –≤ –ª–æ–≥–∞—Ö
3. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫ –µ—Å–ª–∏ –±–∞–ª–∞–Ω—Å < 0.01 SOL

## –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –ª–æ–∫–∞–ª—å–Ω–æ, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ—à–µ–ª–µ–∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:

```bash
cd backend
node -e "
const wallet = require('./src/config/serviceWallet').getServiceWallet();
console.log('Address:', wallet.publicKey.toString());
console.log('Expected: FqRGNozJNRqWUCZftbr3CeFRHKyVTx43ArGRf8QBnfoK');
console.log('Match:', wallet.publicKey.toString() === 'FqRGNozJNRqWUCZftbr3CeFRHKyVTx43ArGRf8QBnfoK');
"
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `Match: true`

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å

1. **–õ–æ–≥–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ** - –µ—Å—Ç—å –ª–∏ –∞–¥—Ä–µ—Å service wallet?
2. **–ë–∞–ª–∞–Ω—Å service wallet** - –±–æ–ª—å—à–µ 0.01 SOL?
3. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ª–∏ SERVICE_WALLET_PRIVATE_KEY –∏ SOLANA_RPC_URL?
4. **–õ–æ–≥–∏ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∏–≥—Ä—ã** - –∫–∞–∫–∏–µ –æ—à–∏–±–∫–∏?

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è:
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∏–≥—Ä—ã (—Å –æ—à–∏–±–∫–∞–º–∏)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å service wallet –Ω–∞ https://explorer.solana.com/address/FqRGNozJNRqWUCZftbr3CeFRHKyVTx43ArGRf8QBnfoK?cluster=devnet

